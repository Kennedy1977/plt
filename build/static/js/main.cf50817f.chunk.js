(this.webpackJsonpcra=this.webpackJsonpcra||[]).push([[0],{23:function(e,t,a){e.exports=a(54)},34:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),l=a.n(r),o=a(3),u=a(19),i=a(2),s=a(6),m={catalog:{},total:0,isLoaded:0},p=a(21),d=(a(34),a(22)),f=a.n(d),E=a(5),b=function(e){return c.a.createElement("section",{className:"filter"},c.a.createElement("select",{onChange:function(t){return e.callback(t.target.value)},defaultValue:"all"},c.a.createElement("option",{value:"all"},"Colour filter"),e.filterOptions.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))))},v=function(e){var t=Object(n.useState)(0),a=Object(E.a)(t,2),r=a[0],l=a[1],o=Object(i.b)();function u(t,a){var n=document.querySelector("#".concat(a)),c=parseInt(n.value)+t,u=r;l(0===t||-1===c?0:c);var i=parseFloat(u*e.price),s=parseFloat(c*e.price);0===t&&(s=0),console.log(i,s),o({type:"UPDATE_TOTAL",payload:[i,s]})}return c.a.createElement("div",{className:"actions-panel"},c.a.createElement("button",{className:"btn-toggle",type:"button",onClick:function(){u(-1,e.id)}},"-"),c.a.createElement("div",null,c.a.createElement("input",{id:e.id,type:"number",value:r,readOnly:!0}),c.a.createElement("button",{className:"btn-remove",type:"button",onClick:function(){u(0,e.id)}},"REMOVE")),c.a.createElement("button",{className:"btn-toggle",type:"button",onClick:function(){u(1,e.id)}},"+"))},O=function(e){return c.a.createElement(c.a.Fragment,null,e.products.map((function(t,a){var n="all"===e.filter?"":t.colour!==e.filter?"hidden":"";return c.a.createElement("section",{className:"product-tile ".concat(t.colour," ").concat(n),key:a},c.a.createElement("div",null,c.a.createElement("img",{src:t.img,alt:t.productTitle}),c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,t.productTitle)),c.a.createElement("p",{className:"product-price"},"\xa3",t.price)),c.a.createElement(v,{id:t.id,price:t.price}))})))},g=function(){var e=Object(i.c)((function(e){return e.total})).toFixed(2);return c.a.createElement("section",{className:"total"},c.a.createElement("p",null,"Total : \xa3",e))},y=(a(52),function(){var e=Object(n.useState)("all"),t=Object(E.a)(e,2),a=t[0],r=t[1],l=Object(i.c)((function(e){return e.catalog.products})),o=l.map((function(e){return e.colour})),u=o.sort().filter((function(e,t,a){return!t||e!==a[t-1]}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,{filterOptions:u,callback:function(e){r(e)}}),c.a.createElement("section",{className:"product-tile-wrapper"},c.a.createElement(O,{products:l,filter:a})),c.a.createElement(g,null))});var j=function(){var e=Object(i.c)((function(e){return e.catalog})),t=Object(i.c)((function(e){return e.isLoaded})),a=Object(i.b)();Object(n.useEffect)((function(){e.products?l():r()}));var r=function(){0===t&&a((function(e){f.a.get("./data/products.json").then((function(t){e({type:"UPDATE_CATALOG",payload:t.data})})).catch((function(e){throw e}))}))},l=function(){a({type:"IS_LOADED"})};return c.a.createElement(c.a.Fragment,null,0===t?c.a.createElement("div",null,"Loading..."):c.a.createElement(y,null))};a(53);var T=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null))},h=Object(o.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CATALOG":return Object(s.a)({},e,{catalog:t.payload});case"IS_LOADED":return Object(s.a)({},e,{isLoaded:e.isLoaded=1});case"UPDATE_TOTAL":var a=t.payload[0],n=t.payload[1];return Object(s.a)({},e,{total:e.total=e.total+n-a});default:return e}}),Object(p.composeWithDevTools)(Object(o.applyMiddleware)(u.a)));l.a.render(c.a.createElement(i.a,{store:h},c.a.createElement(T,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.cf50817f.chunk.js.map